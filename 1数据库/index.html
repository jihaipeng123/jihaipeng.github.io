<!-- build time:Sun Sep 17 2023 16:24:52 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="123" href="https://jihaipeng123.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="123" href="https://jihaipeng123.github.io/atom.xml"><link rel="alternate" type="application/json" title="123" href="https://jihaipeng123.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://jihaipeng123.github.io/1%E6%95%B0%E6%8D%AE%E5%BA%93/"><title>1.数据库 - JavaWeb | Yume Shoka = 123 = 456</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">1.数据库</h1><div class="meta"><span class="item" title="创建时间：2023-08-14 15:43:21"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-08-14T15:43:21+08:00">2023-08-14</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>13k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>12 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(51).jpg "></li><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(56).jpg "></li><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(16).jpg "></li><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(90).jpg "></li><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(12).jpg "></li><li class="item" data-background-image="https://jihaipeng123.github.io/images/image-main/image(26).jpg "></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/JavaWeb/" itemprop="item" rel="index" title="分类于 JavaWeb"><span itemprop="name">JavaWeb</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jihaipeng123.github.io/1%E6%95%B0%E6%8D%AE%E5%BA%93/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="赖床鹏鹏"><meta itemprop="description" content="456, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="123"></span><div class="body md" itemprop="articleBody"><h1 id="javaweb"><a class="anchor" href="#javaweb">#</a> <em>JavaWeb</em></h1><p>1.What: 使用 Java 语言开发互联网项目；开发网站；</p><h1 id="数据库"><a class="anchor" href="#数据库">#</a> <em>数据库</em></h1><h2 id="数据库基本概念"><a class="anchor" href="#数据库基本概念">#</a> 数据库基本概念</h2><p>​ 1. 数据库 DateBase DB</p><p>​ 2.what: 用于存储管理数据的仓库</p><p>​ 3. 数据库特点：a 持久化存储数据，数据库就是一个文件系统 b 方便存储管理数据 c 使用同一的方式操作数据库 SQL</p><p>​ 4 常见数据库软件： Oracle MySQL (Oracle 公司）</p><h2 id="mysql数据库软件"><a class="anchor" href="#mysql数据库软件">#</a> MySQL 数据库软件</h2><p>​ 1. 安装 2. 卸载 3. 配置 a.mysql 服务，启动命令：cmd-&lt;services.msc 打开服务窗口</p><p>​ 使用管理员打开 cmd 查询状态 mysql -uroot -proot</p><p>​ 启动服务 net start mysql 关闭服务 net stop mysql</p><p>​ b.mysql 的登陆 1.mysql -uroot -proot</p><p>​ c.mysql 退出 1.exit 2.quit</p><p>​ d.mysql 的目录结构</p><p>​ 1. 安装目录 D 盘 核心配置文件 my.ini</p><p>​ 2. 数据目录 C 盘隐藏 （数据库 ：文件夹）（表 ：文件 ） 数据</p><h2 id="sql"><a class="anchor" href="#sql">#</a> SQL</h2><h3 id="what"><a class="anchor" href="#what">#</a> what: “</h3><p>​	结构化查询语言；定义了操作所有关系型数据库的规则；每一种数据库操作的方式存在不一样的地方，称为” 方言 “</p><h3 id="sql通用语言"><a class="anchor" href="#sql通用语言">#</a> SQL 通用语言</h3><p>​ a. 单行或多行书写，分号结尾；</p><p>​ b.SQL 中不区分大小写，关键字中认为大写和小写是一样的；j 建议大写</p><p>c.3 种注释 a 单行 -- 空格 或 # b 多行 /* */</p><h3 id="sql分类"><a class="anchor" href="#sql分类">#</a> SQL 分类</h3><ol><li>Data Definition Language (DDL 数据定义语言) 如：建库，建表</li><li>Data Manipulation Language (DML 数据操纵语言)，如：对表中的记录操作增删改</li><li>Data Query Language (DQL 数据查询语言)，如：对表中的查询操作</li><li>Data Control Language (DCL 数据控制语言)，如：对用户权限的设置</li><li><img data-src="../pictures/shujuku/image-20230814155128212.png" alt="image-20230814155128212"></li></ol><h1 id="ddl-操作数据库表"><a class="anchor" href="#ddl-操作数据库表">#</a> DDL : 操作数据库，表</h1><h2 id="操作数据库crud"><a class="anchor" href="#操作数据库crud">#</a> 操作数据库 CRUD</h2><ol><li><p>C-- 创建</p><ol><li><p>创建数据库</p><p>create database 数据库名称；</p></li><li><p>创建 db4 数据库，判断是否存在；</p><p>create database if not exists db4；</p></li><li><p>创建 db4 数据库，判断是否存在，并制定字符集为 gbk;</p><p>create database if not exists db4 character set gbk;</p></li></ol></li><li><p>​	R-- 查询</p><ol><li>$ 查询所有数据库的名称<br>show databases;</li><li>$ 查看某个数据库的字符集<br>show create database 数据库名称；</li></ol></li><li><p>​	U-- 修改</p><p>修改数据库的字符集</p><p>alter database 数据库名称 character set 字符集名称（utf8 ）；</p></li><li><p>​	D-- 删除</p><ol><li><p>删除数据库</p><p>drop database 数据库名称；</p></li><li><p>先判断是否存在再删除</p><p>drop database if not exists 数据库名称；</p></li><li><p>查询当前正在使用的数据库名称</p><p>select database()；</p></li><li><p>使用数据库</p><p>use 数据库名称</p></li></ol></li></ol><h2 id="操作表"><a class="anchor" href="#操作表">#</a> 操作表</h2><ol><li><p>C-- 创建</p><p>​	1. 创建表<br>create table 表名（列名 1 数据类型 1，列名 2 数据类型 1，...... 列名 n 数据类型 n）；</p><p>2. 复制表：<br>create table 新表名 like 被复制的表名<br>int : 整数；<br>double: 小数；score double (5,2) 最多 5 位，小数 2 位<br>data: 日期，只包含年月日 yyyy-MM--dd<br>datetime: 年月日时分秒 yyyy-MM--dd HH:mm:ss;<br>varchar: 字符串 name varchar (20); 姓名最大 20 个字符<br>timestamp: 默认使用系统时间</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	id <span class="token keyword">int</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	age <span class="token keyword">int</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	score <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	birthday <span class="token keyword">date</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	insert_time <span class="token keyword">timestamp</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>​	3. 创建 db4 数据库，判断是否存在；</p><p>​	create database if not exists db4；</p><p>4.. 创建 db4 数据库，判断是否存在，并制定字符集为 gbk;</p><p>​	create database if not exists db4 character set gbk;</p></li><li><p>R-- 查询</p><p>$ 查询数据库中所有表的名称<br>show tables;</p><p>​	$ 查看表的结构 desc 表名称；</p></li><li><p>U-- 修改</p><p>1. 修改表名<br>alter table 表名 rename to 新表名；</p><p>2. 修改表的字符集<br>alter table 表名 character set 字符集名称（utf8 ）；<br>​3. 添加列<br>alter table 表名 add 列名 数据类型；alter table 表名 add 列名 数据类型；</p><p>4. 修改列名称 类型<br>alter table 表名 change 原列名 新列名 数据类型；<br>alter table 表名 modify 列名 新数据类型；</p><p>5. 删除列<br>alter table 表名 drop 列名；</p></li><li><p>D-- 删除</p><p>​	删除表<br>drop table 表名称；</p><p>​	先判断是否存在再删除</p><p>drop table if not exists 表名称；</p><p>SQLYog</p><p>客户端图形化工具</p></li></ol><h1 id="dml增删改表中数据"><a class="anchor" href="#dml增删改表中数据">#</a> DML: 增删改表中数据</h1><ol><li><p>添加数据：insert into 表名（列名 1.... 列名你）values (值 1.... 值 n);</p><p>注意：a 列名和值对应；b 表名后不定义列名，默认给所有列都添加值；c 除了数字，其余都需要用引号引起来，单双引号都行；</p></li><li><p>删除数据： delete form 表名 where 条件；</p><ol><li><p>注意：如果不加条件，删除全部数据。</p></li><li><p>​	删除表，再创建一个一样的空表；</p><p>truncate table 表名；</p><p>delete from 表名；-- 不推荐使用，多次删除操作；</p></li></ol></li><li><p>修改数据： update 表名 set 列名 1 = 值 1，... 列名 n = 值 n where 条件；</p></li></ol><p>​ 注意：如果不加条件，修改全部。</p><h1 id="dql查找表中数据"><a class="anchor" href="#dql查找表中数据">#</a> DQL: 查找表中数据</h1><p>​ select * from 表名；</p><h2 id="语法"><a class="anchor" href="#语法">#</a> 语法</h2><p>select 字段名列表 from 表名列表 where 条件列表 group by 分组字段</p><p>having 分组之后的条件 order by 排序 limit 分页限定</p><h2 id="基础查询"><a class="anchor" href="#基础查询">#</a> 基础查询</h2><ol><li>多个字段的查询</li></ol><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 查询所有表数据</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="5"></td><td><pre>	id<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	NAME<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	age </pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>	student3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">SELECT</span> address <span class="token keyword">FROM</span> student3<span class="token punctuation">;</span></pre></td></tr></table></figure><ol start="2"><li><p>去除重复 distinct</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">SELECT</span>  <span class="token keyword">distinct</span>  address <span class="token keyword">FROM</span> student3<span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>计算列 数值型计算 ifnull (表达式 1，表达式 2)</p><p>​	表达式 1：那个字段需要判断是否为 null; 表达式 2： 字段为 null 后的替换值</p></li><li><p>起别名 As</p></li></ol><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 计算 math+english 的和并输出</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="3"></td><td><pre>	NAME<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	math<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	english<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	math<span class="token operator">+</span>english</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="8"></td><td><pre>	student3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">-- 遇到 null 参与的运算，结果都为 null;	</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>	NAME<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	math<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	english<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	math<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>english<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">-- 这样修改</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="16"></td><td><pre>	student3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">-- 起个别名		</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="19"></td><td><pre>	NAME<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	math<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	english<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	math<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>english<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 总分  <span class="token comment">-- 起别名</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="24"></td><td><pre>	student3<span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="条件查询"><a class="anchor" href="#条件查询">#</a> 条件查询</h2><p>where 字句后跟条件</p><p>运算符 1.&lt;&gt; =&gt;= &lt;= 2.<strong>BETWEEN...AND</strong> <span class="exturl" data-url="aHR0cDovLzMuSU4=">3.IN</span> (集合) 4. IS NULL</p><h2 id="模糊查询"><a class="anchor" href="#模糊查询">#</a> 模糊查询</h2><p>Like _ 单个任意字符 % 多个任意字符</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 查询年龄 > 40 的  等于 = 不等于！= 或 & lt;>  并且 and   或者 or   </span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age<span class="token operator">></span><span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age<span class="token operator">></span><span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age<span class="token operator">>=</span><span class="token number">20</span> <span class="token operator">&amp;&amp;</span> age<span class="token operator">&lt;</span><span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age<span class="token operator">>=</span><span class="token number">20</span> <span class="token operator">AND</span> age<span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">AND</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">-- 查询年龄 20，40 的人信息</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">OR</span> age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> age <span class="token operator">IN</span><span class="token punctuation">(</span> <span class="token number">20</span> <span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- 只要是 in 中的数字都输出</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">-- 查询英语成绩为 nill 的；</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> english <span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>  <span class="token comment">-- 写法错误不能用 = 判断，等于用 is 判断 ，不等于用 isnot;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> english <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> english <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">-- 查询性马的数据  like</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'马%'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'_化%'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'___'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">-- 查询姓名中含马的人</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student3 <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'%德%'</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="排序查询"><a class="anchor" href="#排序查询">#</a> 排序查询</h2><p>order by 字句</p><p>​ order by 排序字段 1 排序方式 1，排序字段 2 排序方式 2，....</p><p>​ 默认：ASC: 升序； DESC: 降序；</p><p>​ 注意：如果有多个排序条件， 当前边条件值一样，才会判断第二条件；</p><h2 id="聚合函数"><a class="anchor" href="#聚合函数">#</a> 聚合函数</h2><p>将 1 一列数据作为一个整体，进行列纵向计算；、</p><p>​ count： 计算个数 max min sum avg: 计算平均值</p><p>​ SELECT COUNT(NAME) FROM student3;</p><p>注意： 排除 Null, 不计算在内；使用 ifnull（ , ）函数</p><h2 id="分组查询"><a class="anchor" href="#分组查询">#</a> 分组查询</h2><p>​ 语法： group by 分组字段</p><p>​ 注意：1. 分组之后查询字段：分组字段，聚合字段</p><p>​ 2.where 和 having 区别： where 在分组前进行限定，不满足条件不进行分组；having 在分组后进行限定，不满足则不会被查询出来；</p><p>​ 3where 后不可以跟聚合函数，having 可以；</p><h2 id="分页查询"><a class="anchor" href="#分页查询">#</a> 分页查询</h2><p>limit 开始的索引，每页查询的条数；</p><p>​ -- 每页显示 3 条数据<br>​ SELECT * FROM student3 LIMIT 0,3; -- 第 1 页<br>​ SELECT * FROM student3 LIMIT 3,3; -- 第 2 页<br>​ SELECT * FROM student3 LIMIT 6,3; -- 第 3 页</p><p>-- 公式：开始的索引 = （当前页码 - 1）* 每页显示的条数；</p><p>​ 分页操作 limit 是一个 mysql “方言”；</p><h1 id="约束"><a class="anchor" href="#约束">#</a> 约束</h1><p>​ 对数据进行限定；</p><p>​ 分类：主键约束：primary key</p><p>​ 非空约束 ： not null</p><p>​ 唯一约束：unique</p><p>​ 外键约束： foreign key</p><h2 id="非空约束-not-null"><a class="anchor" href="#非空约束-not-null">#</a> 非空约束 ： not null</h2><p>​ 1. 创建表时添加约束；</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> st<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	id <span class="token keyword">INT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token comment">-- name 为非空</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> st<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">-- 删除 name 的非空约束；</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> st <span class="token keyword">MODIFY</span> NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>​ 2. 创建表完添加约束；</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> st<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	id <span class="token keyword">INT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> st <span class="token keyword">MODIFY</span> NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="唯一约束unique"><a class="anchor" href="#唯一约束unique">#</a> 唯一约束：unique</h2><p>​ ，某一列的值不能重复；</p><p>​ 注意： 唯一约束可以用 null; 但是只能有一个；</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 创建表示添加唯一约束</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> st<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	id <span class="token keyword">INT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	number <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token comment">-- 手机号唯一</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">-- 删除唯一约束</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> st <span class="token keyword">MODIFY</span> number <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- 错误</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> st <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> number<span class="token punctuation">;</span>  <span class="token comment">-- 正确</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token number">2.</span>可以创建表完添加约束；</pre></td></tr></table></figure><h2 id="主键约束-primary-key"><a class="anchor" href="#主键约束-primary-key">#</a> 主键约束： primary key</h2><p>​ 1. 非空 且 唯一</p><p>​ 2. 一张表只能有一个字段为主键</p><p>​ 3. 主键就是唯一标识</p><p>​ 自动增长： 如果某一列是数值类型的，使用 auto-increment 可完成自动增长</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 创建表示添加主键约束</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> st<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	id <span class="token keyword">INT</span> primer <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>  <span class="token comment">-- 给 id 添加主键约束并完成自增长</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	number <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">-- 删除主键约束</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> st <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>  <span class="token comment">-- 正确</span></pre></td></tr></table></figure><h2 id="外键约束-foreign-key"><a class="anchor" href="#外键约束-foreign-key">#</a> 外键约束： foreign key</h2><p>​ 语法 让表于表产生关系，保证数据正确性；</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">create</span> <span class="token keyword">table</span> 表名（</pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	外键列</pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">constraint</span>  外键名称   <span class="token keyword">foreign</span>  <span class="token keyword">key</span>  外键列明称 <span class="token keyword">references</span> 主表名称（主表列名称）</pre></td></tr><tr><td data-num="5"></td><td><pre>）</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">-- 删除外键</span></pre></td></tr></table></figure><h2 id="级联操作"><a class="anchor" href="#级联操作">#</a> 级联操作</h2><p>​ 添加外键，设置级联更新 ---- 添加操作 删除操作</p><p><img data-src="../pictures/shujuku/image-20230814163629355.png" alt="image-20230814163629355"></p><h1 id="数据库的设计"><a class="anchor" href="#数据库的设计">#</a> 数据库的设计</h1><h2 id="多表之间的关系"><a class="anchor" href="#多表之间的关系">#</a> 多表之间的关系</h2><p>​	1. 分类</p><p>​ 一对一： 一个人 - 一张身份证</p><p>​ 一对多，多对一： 一个部门 - 多个员工</p><p>​ 多对多：多个学生 - 多个课程</p><p>​	2. 实现：<br>一对一：<br>​ <img data-src="../pictures/shujuku/image-20230814163753539.png" alt="image-20230814163753539"></p><p>​	多对多： 联合主键</p><p><img data-src="../pictures/shujuku/image-20230814164038351.png" alt="image-20230814164038351"></p><h2 id="数据库设计的范式"><a class="anchor" href="#数据库设计的范式">#</a> 数据库设计的范式</h2><p>​ 设计数据库遵循的规范</p><p>​ 第一范式（1FN）: 每一列都是不可分割的原子数据项；</p><p>​ 1 存在非常严重的数据冗余；2 数据添加存在问题；3 数据删除存在问题</p><p>​ 第二范式：在 1FN 基础上，非码属性必须依赖于候选码 (<strong>消除非主属性带主属性的部分依赖</strong>)</p><p>​ 函数依赖： A -&gt; B; 通过 A 属性（属性组）确定唯一 B 属性的值；则称 B 依赖于 A;</p><p>​ 学号 -&gt; 姓名 （学号，课程 ）-&gt; 分数</p><p>​ 完全函数依赖 ： 如果 A 是属性组，则 B 属性值依赖 A 属性组的所有的属性值；（学号，课程 ）-&gt; 分数</p><p>​ 部分函数依赖 ： 如果 A 是属性组，则 B 属性值只需要依赖 A 属性组的某一些的属性值；（学号，课程 ）-&gt; 姓名</p><p>​ 传递函数依赖： a-&gt;b; b-&gt;c; c 传递函数依赖于 a; 学号 -&gt; 姓名，姓名 -&gt; 性别；</p><p>​ <strong>码</strong>： 一张表中，一个属性或属性组，被其他属性完全依赖，则称这个属性或属性组为该表的码；</p><p>​ 主属性： 码属性组中的所有属性；</p><p>​ 非主属性： 除码属性外其他的属性；</p><p>​ 第三范式：在 2FN 基础上，任何非主属性不依赖其他非主属性（取消传递依赖）</p><h1 id="数据库的备份还原"><a class="anchor" href="#数据库的备份还原">#</a> 数据库的备份还原</h1><p>​ 1. 备份命令行： mysqldump -u 用户名 -p 密码 数据库名称 &gt; 保存的路径</p><p>​ 2. 还原： 登录，创建，使用数据库，执行文件 source 文件路径；</p><p>​ 图形化工具：</p><h1 id="多表查询"><a class="anchor" href="#多表查询">#</a> 多表查询</h1><p>​	查询语法：</p><p>​	· select<br>​	・ 列名列表<br>​	・ from<br>​	・ 表名列表<br>​	・ where....</p><p>笛卡尔积：</p><p>​	有两个集合 A,B . 取这两个集合的所有组成情况。</p><p>​	要完成多表查询，需要消除无用的数据</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">*</span> 准备<span class="token keyword">sql</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token comment"># 创建部门表</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'开发部'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'市场部'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'财务部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment"># 创建员工表</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 性别</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		salary <span class="token keyword">DOUBLE</span><span class="token punctuation">,</span> <span class="token comment">-- 工资</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		join_date <span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token comment">-- 入职日期</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		dept_id <span class="token keyword">INT</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">-- 外键，关联部门表 (部门表的主键)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'孙悟空'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">7200</span><span class="token punctuation">,</span><span class="token string">'2013-02-24'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'猪八戒'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">3600</span><span class="token punctuation">,</span><span class="token string">'2010-12-02'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'唐僧'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token number">9000</span><span class="token punctuation">,</span><span class="token string">'2008-08-08'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'白骨精'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token string">'2015-10-07'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>join_date<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'蜘蛛精'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token number">4500</span><span class="token punctuation">,</span><span class="token string">'2011-03-14'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token operator">*</span> 多表查询的分类：</pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token number">1.</span> 内连接查询：</pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token number">1.</span> 隐式内连接：使用<span class="token keyword">where</span>条件消除无用数据</pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token comment">-- 查询所有员工信息和对应的部门信息</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>			<span class="token comment">-- 查询员工表的名称，性别。部门表的名称</span></pre></td></tr><tr><td data-num="29"></td><td><pre>			<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>name<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>gender<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="31"></td><td><pre>				t1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token comment">-- 员工表的姓名</span></pre></td></tr><tr><td data-num="32"></td><td><pre>				t1<span class="token punctuation">.</span>gender<span class="token punctuation">,</span><span class="token comment">-- 员工表的性别</span></pre></td></tr><tr><td data-num="33"></td><td><pre>				t2<span class="token punctuation">.</span>name <span class="token comment">-- 部门表的名称</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token keyword">FROM</span></pre></td></tr><tr><td data-num="35"></td><td><pre>				emp t1<span class="token punctuation">,</span>    <span class="token operator">=</span><span class="token operator">=</span> 起别名</pre></td></tr><tr><td data-num="36"></td><td><pre>				dept t2</pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token keyword">WHERE</span> </pre></td></tr><tr><td data-num="38"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token number">2.</span> 显式内连接：</pre></td></tr><tr><td data-num="40"></td><td><pre>			<span class="token operator">*</span> 语法： <span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表名<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">inner</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表名<span class="token number">2</span> <span class="token keyword">on</span> 条件</pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token operator">*</span> 例如：</pre></td></tr><tr><td data-num="42"></td><td><pre>				<span class="token operator">*</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dept <span class="token keyword">ON</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="43"></td><td><pre>				<span class="token operator">*</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">JOIN</span> dept <span class="token keyword">ON</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> dept<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token number">3.</span> 内连接查询：</pre></td></tr><tr><td data-num="45"></td><td><pre>			<span class="token number">1.</span> 从哪些表中查询数据</pre></td></tr><tr><td data-num="46"></td><td><pre>			<span class="token number">2.</span> 条件是什么</pre></td></tr><tr><td data-num="47"></td><td><pre>			<span class="token number">3.</span> 查询哪些字段</pre></td></tr><tr><td data-num="48"></td><td><pre>			</pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token number">2.</span> 外链接查询：</pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token number">1.</span> 左外连接：</pre></td></tr><tr><td data-num="51"></td><td><pre>			<span class="token operator">*</span> 语法：<span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token keyword">left</span> <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 条件；</pre></td></tr><tr><td data-num="52"></td><td><pre>			<span class="token operator">*</span> 查询的是左表所有数据以及其交集部分。</pre></td></tr><tr><td data-num="53"></td><td><pre>			<span class="token operator">*</span> 例子：</pre></td></tr><tr><td data-num="54"></td><td><pre>				<span class="token comment">-- 查询所有员工信息，如果员工有部门，则查询部门名称，没有部门，则不显示部门名称</span></pre></td></tr><tr><td data-num="55"></td><td><pre>				<span class="token keyword">SELECT</span> 	t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> emp t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> dept t2 <span class="token keyword">ON</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token number">2.</span> 右外连接：</pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token operator">*</span> 语法：<span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token keyword">right</span> <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 条件；</pre></td></tr><tr><td data-num="58"></td><td><pre>			<span class="token operator">*</span> 查询的是右表所有数据以及其交集部分。</pre></td></tr><tr><td data-num="59"></td><td><pre>			<span class="token operator">*</span> 例子：</pre></td></tr><tr><td data-num="60"></td><td><pre>				<span class="token keyword">SELECT</span> 	<span class="token operator">*</span> <span class="token keyword">FROM</span> dept t2 <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> emp t1 <span class="token keyword">ON</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>				</pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token number">3.</span> 子查询：</pre></td></tr><tr><td data-num="63"></td><td><pre>		<span class="token operator">*</span> 概念：查询中嵌套查询，称嵌套查询为子查询。</pre></td></tr><tr><td data-num="64"></td><td><pre>			<span class="token comment">-- 查询工资最高的员工信息</span></pre></td></tr><tr><td data-num="65"></td><td><pre>			<span class="token comment">-- 1 查询最高的工资是多少 9000                 SELECT MAX (salary) FROM emp;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>			<span class="token comment">-- 2 查询员工信息，并且工资等于 9000 的   	     SELECT * FROM emp WHERE emp.`salary` = 9000;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>			</pre></td></tr><tr><td data-num="68"></td><td><pre>			<span class="token comment">-- 一条 sql 就完成这个操作。子查询</span></pre></td></tr><tr><td data-num="69"></td><td><pre>			<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token operator">*</span> 子查询不同情况</pre></td></tr><tr><td data-num="72"></td><td><pre>			<span class="token number">1.</span> 子查询的结果是单行单列的：</pre></td></tr><tr><td data-num="73"></td><td><pre>				<span class="token operator">*</span> 子查询可以作为条件，使用运算符去判断。 运算符： <span class="token operator">></span> <span class="token operator">>=</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;=</span> <span class="token operator">=</span></pre></td></tr><tr><td data-num="74"></td><td><pre>				<span class="token comment">-- 查询员工工资小于平均工资的人</span></pre></td></tr><tr><td data-num="75"></td><td><pre>				<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>			<span class="token number">2.</span> 子查询的结果是多行单列的：</pre></td></tr><tr><td data-num="77"></td><td><pre>				<span class="token operator">*</span> 子查询可以作为条件，使用运算符<span class="token operator">in</span>来判断</pre></td></tr><tr><td data-num="78"></td><td><pre>				<span class="token comment">-- 查询 ' 财务部 ' 和 ' 市场部 ' 所有的员工信息</span></pre></td></tr><tr><td data-num="79"></td><td><pre>				<span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> dept <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">'财务部'</span> <span class="token operator">OR</span> NAME <span class="token operator">=</span> <span class="token string">'市场部'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>				<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> dept_id <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">OR</span> dept_id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>				<span class="token comment">-- 子查询</span></pre></td></tr><tr><td data-num="82"></td><td><pre>				<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> dept_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> dept <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">'财务部'</span> <span class="token operator">OR</span> NAME <span class="token operator">=</span> <span class="token string">'市场部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre></pre></td></tr><tr><td data-num="84"></td><td><pre>			<span class="token number">3.</span> 子查询的结果是多行多列的：</pre></td></tr><tr><td data-num="85"></td><td><pre>				<span class="token operator">*</span> 子查询可以作为一张虚拟表参与查询</pre></td></tr><tr><td data-num="86"></td><td><pre>				<span class="token comment">-- 查询员工入职日期是 2011-11-11 日之后的员工信息和部门信息</span></pre></td></tr><tr><td data-num="87"></td><td><pre>				<span class="token comment">-- 子查询</span></pre></td></tr><tr><td data-num="88"></td><td><pre>				<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> dept t1 <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>join_date<span class="token punctuation">`</span></span> <span class="token operator">></span> <span class="token string">'2011-11-11'</span><span class="token punctuation">)</span> t2</pre></td></tr><tr><td data-num="89"></td><td><pre>				<span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>id <span class="token operator">=</span> t2<span class="token punctuation">.</span>dept_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>				</pre></td></tr><tr><td data-num="91"></td><td><pre>				<span class="token comment">-- 普通内连接</span></pre></td></tr><tr><td data-num="92"></td><td><pre>				<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp t1<span class="token punctuation">,</span>dept t2 <span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">AND</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>join_date<span class="token punctuation">`</span></span> <span class="token operator">></span>  '<span class="token number">2011</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">11</span></pre></td></tr></table></figure><h2 id="多表练习查询"><a class="anchor" href="#多表练习查询">#</a> 多表练习查询</h2><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">*</span> 多表查询练习</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">-- 部门表</span></pre></td></tr><tr><td data-num="4"></td><td><pre>			<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="5"></td><td><pre>			  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> <span class="token comment">-- 部门 id</span></pre></td></tr><tr><td data-num="6"></td><td><pre>			  dname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 部门名称</span></pre></td></tr><tr><td data-num="7"></td><td><pre>			  loc <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- 部门所在地</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span>		</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">-- 添加 4 个部门</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'教研部'</span><span class="token punctuation">,</span><span class="token string">'北京'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'学工部'</span><span class="token punctuation">,</span><span class="token string">'上海'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">'销售部'</span><span class="token punctuation">,</span><span class="token string">'广州'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">'财务部'</span><span class="token punctuation">,</span><span class="token string">'深圳'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			<span class="token comment">-- 职务表，职务名称，职务描述</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> job <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			  jname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			  description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span>		</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">-- 添加 4 个职务</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> job <span class="token punctuation">(</span>id<span class="token punctuation">,</span> jname<span class="token punctuation">,</span> description<span class="token punctuation">)</span> <span class="token keyword">VALUES</span></pre></td></tr><tr><td data-num="23"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'董事长'</span><span class="token punctuation">,</span> <span class="token string">'管理整个公司，接单'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="24"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'经理'</span><span class="token punctuation">,</span> <span class="token string">'管理部门员工'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="25"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'销售员'</span><span class="token punctuation">,</span> <span class="token string">'向客人推销产品'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'文员'</span><span class="token punctuation">,</span> <span class="token string">'使用办公软件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">-- 员工表</span></pre></td></tr><tr><td data-num="28"></td><td><pre>			<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="29"></td><td><pre>			  id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> <span class="token comment">-- 员工 id</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			  ename <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 员工姓名</span></pre></td></tr><tr><td data-num="31"></td><td><pre>			  job_id <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">-- 职务 id</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			  mgr <span class="token keyword">INT</span> <span class="token punctuation">,</span> <span class="token comment">-- 上级领导</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			  joindate <span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token comment">-- 入职日期</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			  salary <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 工资</span></pre></td></tr><tr><td data-num="35"></td><td><pre>			  bonus <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 奖金</span></pre></td></tr><tr><td data-num="36"></td><td><pre>			  dept_id <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token comment">-- 所在部门编号</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			  <span class="token keyword">CONSTRAINT</span> emp_jobid_ref_job_id_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>job_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> job <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 关联</span></pre></td></tr><tr><td data-num="38"></td><td><pre>			  <span class="token keyword">CONSTRAINT</span> emp_deptid_ref_dept_id_fk <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">-- 添加员工</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>id<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>joindate<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>bonus<span class="token punctuation">,</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> </pre></td></tr><tr><td data-num="42"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token string">'孙悟空'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">'2000-12-17'</span><span class="token punctuation">,</span><span class="token string">'8000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="43"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token string">'卢俊义'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'2001-02-20'</span><span class="token punctuation">,</span><span class="token string">'16000.00'</span><span class="token punctuation">,</span><span class="token string">'3000.00'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="44"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1003</span><span class="token punctuation">,</span><span class="token string">'林冲'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'2001-02-22'</span><span class="token punctuation">,</span><span class="token string">'12500.00'</span><span class="token punctuation">,</span><span class="token string">'5000.00'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="45"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">'唐僧'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">'2001-04-02'</span><span class="token punctuation">,</span><span class="token string">'29750.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="46"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1005</span><span class="token punctuation">,</span><span class="token string">'李逵'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'2001-09-28'</span><span class="token punctuation">,</span><span class="token string">'12500.00'</span><span class="token punctuation">,</span><span class="token string">'14000.00'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="47"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'宋江'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">'2001-05-01'</span><span class="token punctuation">,</span><span class="token string">'28500.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="48"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">'刘备'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">'2001-09-01'</span><span class="token punctuation">,</span><span class="token string">'24500.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="49"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1008</span><span class="token punctuation">,</span><span class="token string">'猪八戒'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">'2007-04-19'</span><span class="token punctuation">,</span><span class="token string">'30000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="50"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1009</span><span class="token punctuation">,</span><span class="token string">'罗贯中'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'2001-11-17'</span><span class="token punctuation">,</span><span class="token string">'50000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="51"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1010</span><span class="token punctuation">,</span><span class="token string">'吴用'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'2001-09-08'</span><span class="token punctuation">,</span><span class="token string">'15000.00'</span><span class="token punctuation">,</span><span class="token string">'0.00'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="52"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1011</span><span class="token punctuation">,</span><span class="token string">'沙僧'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">'2007-05-23'</span><span class="token punctuation">,</span><span class="token string">'11000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="53"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1012</span><span class="token punctuation">,</span><span class="token string">'李逵'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1006</span><span class="token punctuation">,</span><span class="token string">'2001-12-03'</span><span class="token punctuation">,</span><span class="token string">'9500.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="54"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1013</span><span class="token punctuation">,</span><span class="token string">'小白龙'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1004</span><span class="token punctuation">,</span><span class="token string">'2001-12-03'</span><span class="token punctuation">,</span><span class="token string">'30000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1014</span><span class="token punctuation">,</span><span class="token string">'关羽'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1007</span><span class="token punctuation">,</span><span class="token string">'2002-01-23'</span><span class="token punctuation">,</span><span class="token string">'13000.00'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment">-- 工资等级表</span></pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> salarygrade <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="58"></td><td><pre>			  grade <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>   <span class="token comment">-- 级别</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			  losalary <span class="token keyword">INT</span><span class="token punctuation">,</span>  <span class="token comment">-- 最低工资</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			  hisalary <span class="token keyword">INT</span> <span class="token comment">-- 最高工资</span></pre></td></tr><tr><td data-num="61"></td><td><pre>			<span class="token punctuation">)</span><span class="token punctuation">;</span>		</pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token comment">-- 添加 5 个工资等级</span></pre></td></tr><tr><td data-num="63"></td><td><pre>			<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salarygrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losalary<span class="token punctuation">,</span>hisalary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> </pre></td></tr><tr><td data-num="64"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7000</span><span class="token punctuation">,</span><span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="65"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">12010</span><span class="token punctuation">,</span><span class="token number">14000</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="66"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">14010</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="67"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">20010</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="68"></td><td><pre>			<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">30010</span><span class="token punctuation">,</span><span class="token number">99990</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>			</pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token comment">-- 需求：</span></pre></td></tr><tr><td data-num="71"></td><td><pre>			</pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token comment">-- 1. 查询所有员工信息。查询员工编号，员工姓名，工资，职务名称，职务描述</span></pre></td></tr><tr><td data-num="73"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="74"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="75"></td><td><pre>					1. 员工编号，员工姓名，工资，需要查询 emp 表  职务名称，职务描述 需要查询 job 表</pre></td></tr><tr><td data-num="76"></td><td><pre>					2. 查询条件 emp.job_id = job.id</pre></td></tr><tr><td data-num="77"></td><td><pre>			</pre></td></tr><tr><td data-num="78"></td><td><pre>			*/</pre></td></tr><tr><td data-num="79"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="80"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 员工编号</span></pre></td></tr><tr><td data-num="81"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 员工姓名</span></pre></td></tr><tr><td data-num="82"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token comment">-- 工资</span></pre></td></tr><tr><td data-num="83"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>jname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 职务名称</span></pre></td></tr><tr><td data-num="84"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token comment">-- 职务描述</span></pre></td></tr><tr><td data-num="85"></td><td><pre>			<span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="86"></td><td><pre>				emp t1<span class="token punctuation">,</span> job t2</pre></td></tr><tr><td data-num="87"></td><td><pre>			<span class="token keyword">WHERE</span> </pre></td></tr><tr><td data-num="88"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>job_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre><span class="token comment">-- 2. 查询员工编号，员工姓名，工资，职务名称，职务描述，部门名称，部门位置</span></pre></td></tr><tr><td data-num="90"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="91"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="92"></td><td><pre>					1. 员工编号，员工姓名，工资 emp  职务名称，职务描述 job  部门名称，部门位置 dept</pre></td></tr><tr><td data-num="93"></td><td><pre>					2. 条件： emp.job_id = job.id and emp.dept_id = dept.id</pre></td></tr><tr><td data-num="94"></td><td><pre>			*/</pre></td></tr><tr><td data-num="95"></td><td><pre>			</pre></td></tr><tr><td data-num="96"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="97"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 员工编号</span></pre></td></tr><tr><td data-num="98"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 员工姓名</span></pre></td></tr><tr><td data-num="99"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token comment">-- 工资</span></pre></td></tr><tr><td data-num="100"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>jname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 职务名称</span></pre></td></tr><tr><td data-num="101"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 职务描述</span></pre></td></tr><tr><td data-num="102"></td><td><pre>				t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token comment">-- 部门名称</span></pre></td></tr><tr><td data-num="103"></td><td><pre>				t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>loc<span class="token punctuation">`</span></span> <span class="token comment">-- 部门位置</span></pre></td></tr><tr><td data-num="104"></td><td><pre>			<span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="105"></td><td><pre>				emp t1<span class="token punctuation">,</span> job t2<span class="token punctuation">,</span> dept t3</pre></td></tr><tr><td data-num="106"></td><td><pre>			<span class="token keyword">WHERE</span> </pre></td></tr><tr><td data-num="107"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>job_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">AND</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>			   </pre></td></tr><tr><td data-num="109"></td><td><pre><span class="token comment">-- 3. 查询员工姓名，工资，工资等级</span></pre></td></tr><tr><td data-num="110"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="111"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="112"></td><td><pre>					1. 员工姓名，工资 emp  工资等级 salarygrade</pre></td></tr><tr><td data-num="113"></td><td><pre>					2. 条件 emp.salary >= salarygrade.losalary and emp.salary &lt;= salarygrade.hisalary</pre></td></tr><tr><td data-num="114"></td><td><pre>						emp.salary BETWEEN salarygrade.losalary and salarygrade.hisalary</pre></td></tr><tr><td data-num="115"></td><td><pre>			*/</pre></td></tr><tr><td data-num="116"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="117"></td><td><pre>				t1<span class="token punctuation">.</span>ename <span class="token punctuation">,</span></pre></td></tr><tr><td data-num="118"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="119"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token operator">*</span></pre></td></tr><tr><td data-num="120"></td><td><pre>			<span class="token keyword">FROM</span> emp t1<span class="token punctuation">,</span> salarygrade t2</pre></td></tr><tr><td data-num="121"></td><td><pre>			<span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token operator">BETWEEN</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>losalary<span class="token punctuation">`</span></span> <span class="token operator">AND</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>hisalary<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre><span class="token comment">-- 4. 查询员工姓名，工资，职务名称，职务描述，部门名称，部门位置，工资等级</span></pre></td></tr><tr><td data-num="123"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="124"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="125"></td><td><pre>					1. 员工姓名，工资 emp ， 职务名称，职务描述 job 部门名称，部门位置，dept  工资等级 salarygrade</pre></td></tr><tr><td data-num="126"></td><td><pre>					2. 条件： emp.job_id = job.id and emp.dept_id = dept.id and emp.salary BETWEEN salarygrade.losalary and salarygrade.hisalary		</pre></td></tr><tr><td data-num="127"></td><td><pre>			*/</pre></td></tr><tr><td data-num="128"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="129"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="130"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="131"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>jname<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="132"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="133"></td><td><pre>				t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="134"></td><td><pre>				t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>loc<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="135"></td><td><pre>				t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>grade<span class="token punctuation">`</span></span></pre></td></tr><tr><td data-num="136"></td><td><pre>			<span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="137"></td><td><pre>				emp t1<span class="token punctuation">,</span>job t2<span class="token punctuation">,</span>dept t3<span class="token punctuation">,</span>salarygrade t4</pre></td></tr><tr><td data-num="138"></td><td><pre>			<span class="token keyword">WHERE</span> </pre></td></tr><tr><td data-num="139"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>job_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> </pre></td></tr><tr><td data-num="140"></td><td><pre>				<span class="token operator">AND</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t3<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span></pre></td></tr><tr><td data-num="141"></td><td><pre>				<span class="token operator">AND</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token operator">BETWEEN</span> t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>losalary<span class="token punctuation">`</span></span> <span class="token operator">AND</span> t4<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>hisalary<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="142"></td><td><pre><span class="token comment">-- 5. 查询出部门编号、部门名称、部门位置、部门人数</span></pre></td></tr><tr><td data-num="143"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="144"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="145"></td><td><pre>					1. 部门编号、部门名称、部门位置 dept 表。 部门人数 emp 表</pre></td></tr><tr><td data-num="146"></td><td><pre>					2. 使用分组查询。按照 emp.dept_id 完成分组，查询 count (id)</pre></td></tr><tr><td data-num="147"></td><td><pre>					3. 使用子查询将第 2 步的查询结果和 dept 表进行关联查询</pre></td></tr><tr><td data-num="148"></td><td><pre>					</pre></td></tr><tr><td data-num="149"></td><td><pre>			*/</pre></td></tr><tr><td data-num="150"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="151"></td><td><pre>				t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span>t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>loc<span class="token punctuation">`</span></span> <span class="token punctuation">,</span> t2<span class="token punctuation">.</span>total</pre></td></tr><tr><td data-num="152"></td><td><pre>			<span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="153"></td><td><pre>				dept t1<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="154"></td><td><pre>				<span class="token punctuation">(</span><span class="token keyword">SELECT</span></pre></td></tr><tr><td data-num="155"></td><td><pre>					dept_id<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> total</pre></td></tr><tr><td data-num="156"></td><td><pre>				<span class="token keyword">FROM</span> </pre></td></tr><tr><td data-num="157"></td><td><pre>					emp</pre></td></tr><tr><td data-num="158"></td><td><pre>				<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> dept_id<span class="token punctuation">)</span> t2</pre></td></tr><tr><td data-num="159"></td><td><pre>			<span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span>dept_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="160"></td><td><pre><span class="token comment">-- 6. 查询所有员工的姓名及其直接上级的姓名，没有领导的员工也需要查询</span></pre></td></tr><tr><td data-num="161"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="162"></td><td><pre>				分析：</pre></td></tr><tr><td data-num="163"></td><td><pre>					1. 姓名 emp， 直接上级的姓名 emp</pre></td></tr><tr><td data-num="164"></td><td><pre>						* emp 表的 id 和 mgr 是自关联</pre></td></tr><tr><td data-num="165"></td><td><pre>					2. 条件 emp.id = emp.mgr</pre></td></tr><tr><td data-num="166"></td><td><pre>					3. 查询左表的所有数据，和 交集数据</pre></td></tr><tr><td data-num="167"></td><td><pre>						* 使用左外连接查询</pre></td></tr><tr><td data-num="168"></td><td><pre>			*/</pre></td></tr><tr><td data-num="169"></td><td><pre>			<span class="token comment">/*</span></pre></td></tr><tr><td data-num="170"></td><td><pre>			select</pre></td></tr><tr><td data-num="171"></td><td><pre>				t1.ename,</pre></td></tr><tr><td data-num="172"></td><td><pre>				t1.mgr,</pre></td></tr><tr><td data-num="173"></td><td><pre>				t2.`id`,</pre></td></tr><tr><td data-num="174"></td><td><pre>				t2.ename</pre></td></tr><tr><td data-num="175"></td><td><pre>			from emp t1, emp t2</pre></td></tr><tr><td data-num="176"></td><td><pre>			where t1.mgr = t2.`id`;</pre></td></tr><tr><td data-num="177"></td><td><pre>			</pre></td></tr><tr><td data-num="178"></td><td><pre>			*/</pre></td></tr><tr><td data-num="179"></td><td><pre>			</pre></td></tr><tr><td data-num="180"></td><td><pre>			<span class="token keyword">SELECT</span> </pre></td></tr><tr><td data-num="181"></td><td><pre>				t1<span class="token punctuation">.</span>ename<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="182"></td><td><pre>				t1<span class="token punctuation">.</span>mgr<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="183"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="184"></td><td><pre>				t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span></pre></td></tr><tr><td data-num="185"></td><td><pre>			<span class="token keyword">FROM</span> emp t1</pre></td></tr><tr><td data-num="186"></td><td><pre>			<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> emp t2</pre></td></tr><tr><td data-num="187"></td><td><pre>			<span class="token keyword">ON</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>mgr<span class="token punctuation">`</span></span> <span class="token operator">=</span> t2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="事务"><a class="anchor" href="#事务">#</a> 事务</h1><h2 id="基本介绍"><a class="anchor" href="#基本介绍">#</a> 基本介绍</h2><ol><li><p>概念：</p><ul><li>如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败。</li></ul></li><li><p>操作：</p><ol><li><p>开启事务： start transaction;</p></li><li><p>回滚：rollback;</p></li><li><p>提交：commit;</p><p>​ -- 发现执行没有问题，提交事务<br>​ COMMIT;</p><p>​ -- 发现出问题了，回滚事务<br>​ ROLLBACK;</p><ol start="4"><li><p>MySQL 数据库中事务默认<strong>自动提交</strong></p><p>a 事务提交的两种方式：</p><p>​ 自动提交：</p><p>​ mysql 就是自动提交的</p><p>​ 一条 DML (增删改) 语句会自动提交一次事务。</p><p>​ 手动提交：</p><p>​ Oracle 数据库默认是<strong>手动提交</strong>事务</p><p>​ 需要先开启事务，再提交</p></li></ol></li></ol></li></ol><p>​ b 修改事务的默认提交方式：</p><p>​ 查看事务的默认提交方式：SELECT @@autocommit; -- 1 代表自动提交 0 代表手动提交</p><p>​ 修改默认提交方式： set @@autocommit = 0;</p><h2 id="事务的四大特征"><a class="anchor" href="#事务的四大特征">#</a> 事务的四大特征</h2><p>​ 1 原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。</p><p>​ 2 持久性：当事务提交或回滚后，数据库会持久化的保存数据。</p><p>​ 3 隔离性：多个事务之间。相互独立。</p><p>​ 4 一致性：事务操作前后，数据总量不变</p><h2 id="事务的隔离级别"><a class="anchor" href="#事务的隔离级别">#</a> 事务的隔离级别</h2><ul><li><p>概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。</p></li><li><p>存在问题：、</p><p>​ 脏读：一个事务，读取到另一个事务中没有提交的数据</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>不可重复读<span class="token punctuation">(</span>虚读<span class="token punctuation">)</span>：在同一个事务中，两次读取到的数据不一样。</pre></td></tr></table></figure><p>​ 幻读：一个事务操作 (DML) 数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。</p><p>隔离级别：</p><p>​	read uncommitted：读未提交</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre>产生的问题：脏读、不可重</pre></td></tr></table></figure><p>​	read committed：读已提交 （Oracle）</p><p>​ 产生的问题：不可重复读、幻读</p><p>​	repeatable read：可重复读 （MySQL 默认）</p><p>​ 产生的问题：幻读</p><p>​	serializable：串行化</p><p>​ 可以解决所有的问题</p></li></ul><p>注意：隔离级别从小到大安全性越来越高，但是效率越来越低</p><ul><li>数据库查询隔离级别：<ul><li>select @@tx_isolation;</li></ul></li><li>数据库设置隔离级别：<ul><li>set global transaction isolation level 级别字符串；</li></ul></li></ul><h1 id="dcl管理用户授权"><a class="anchor" href="#dcl管理用户授权">#</a> DCL: 管理用户，授权</h1><h2 id="管理用户"><a class="anchor" href="#管理用户">#</a> 管理用户</h2><p>​ 添加用户 ---create user ' 用户名 '@' 主机名 ' identified by ' 密码 '；</p><p>​ 删除用户 ---drop user ' 用户名 '@' 主机名 ';</p><p>​ 修改用户密码 ---1.update user set password = password (‘新密码’) where user = ' 用户名 ';</p><p>​ 2.set password for ' 用户名 '@' 主机名 ' = password (‘新密码’) ；</p><p>​ 查询用户 ---1. 切换到 mysql 数据库 use mysql;</p><p>​ 2. 查询 user 表 select * from uaer;</p><h2 id="授权"><a class="anchor" href="#授权">#</a> 授权</h2><p>​ 查询权限 show grants for ' 用户名 '@' 主机名 ' ;</p><p>​ 授予权限 grant 权限列表 on 数据库名。表名 to ' 用户名 '@' 主机名 ' ；</p><p>​ 撤销权限 revoke 权限列表 on 数据库名。表名 from ' 用户名 '@' 主机名 ' ；</p><p>​</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-08-28 10:35:05" itemprop="dateModified" datetime="2023-08-28T10:35:05+08:00">2023-08-28</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>赖床鹏鹏 <i class="ic i-at"><em>@</em></i>123</li><li class="link"><strong>本文链接：</strong> <a href="https://jihaipeng123.github.io/1%E6%95%B0%E6%8D%AE%E5%BA%93/" title="1.数据库">https://jihaipeng123.github.io/1数据库/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/%E6%88%AA%E5%9B%BE%E5%90%88%E9%9B%86/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;jihaipeng123.github.io&#x2F;images&#x2F;image-main&#x2F;image(32).jpg " title="截图合集"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> JavaSE</span><h3>截图合集</h3></a></div><div class="item right"><a href="/2JDBC-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;jihaipeng123.github.io&#x2F;images&#x2F;image-main&#x2F;image(48).jpg " title="2.JDBC&amp;数据库连接池"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> JavaWeb</span><h3>2.JDBC&数据库连接池</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#javaweb"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">数据库基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BD%AF%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">MySQL 数据库软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql"><span class="toc-number">2.3.</span> <span class="toc-text">SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#what"><span class="toc-number">2.3.1.</span> <span class="toc-text">what: “</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E9%80%9A%E7%94%A8%E8%AF%AD%E8%A8%80"><span class="toc-number">2.3.2.</span> <span class="toc-text">SQL 通用语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E5%88%86%E7%B1%BB"><span class="toc-number">2.3.3.</span> <span class="toc-text">SQL 分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ddl-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">3.</span> <span class="toc-text">DDL : 操作数据库，表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93crud"><span class="toc-number">3.1.</span> <span class="toc-text">操作数据库 CRUD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E8%A1%A8"><span class="toc-number">3.2.</span> <span class="toc-text">操作表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dml%E5%A2%9E%E5%88%A0%E6%94%B9%E8%A1%A8%E4%B8%AD%E6%95%B0%E6%8D%AE"><span class="toc-number">4.</span> <span class="toc-text">DML: 增删改表中数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dql%E6%9F%A5%E6%89%BE%E8%A1%A8%E4%B8%AD%E6%95%B0%E6%8D%AE"><span class="toc-number">5.</span> <span class="toc-text">DQL: 查找表中数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.</span> <span class="toc-text">基础查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.3.</span> <span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.4.</span> <span class="toc-text">模糊查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.5.</span> <span class="toc-text">排序查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.</span> <span class="toc-text">聚合函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.</span> <span class="toc-text">分组查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.8.</span> <span class="toc-text">分页查询</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-number">6.</span> <span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F-not-null"><span class="toc-number">6.1.</span> <span class="toc-text">非空约束 ： not null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9Funique"><span class="toc-number">6.2.</span> <span class="toc-text">唯一约束：unique</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-primary-key"><span class="toc-number">6.3.</span> <span class="toc-text">主键约束： primary key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-foreign-key"><span class="toc-number">6.4.</span> <span class="toc-text">外键约束： foreign key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C"><span class="toc-number">6.5.</span> <span class="toc-text">级联操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.</span> <span class="toc-text">数据库的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">7.1.</span> <span class="toc-text">多表之间的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E8%8C%83%E5%BC%8F"><span class="toc-number">7.2.</span> <span class="toc-text">数据库设计的范式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F"><span class="toc-number">8.</span> <span class="toc-text">数据库的备份还原</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.</span> <span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E7%BB%83%E4%B9%A0%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.1.</span> <span class="toc-text">多表练习查询</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-number">10.</span> <span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">10.1.</span> <span class="toc-text">基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="toc-number">10.2.</span> <span class="toc-text">事务的四大特征</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">10.3.</span> <span class="toc-text">事务的隔离级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dcl%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83"><span class="toc-number">11.</span> <span class="toc-text">DCL: 管理用户，授权</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7"><span class="toc-number">11.1.</span> <span class="toc-text">管理用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%88%E6%9D%83"><span class="toc-number">11.2.</span> <span class="toc-text">授权</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/1%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="bookmark" title="1.数据库">1.数据库</a></li><li><a href="/2JDBC-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" rel="bookmark" title="2.JDBC&数据库连接池">2.JDBC&数据库连接池</a></li><li><a href="/3HTML-CSS/" rel="bookmark" title="3.HTML&CSS">3.HTML&CSS</a></li><li><a href="/4JavaScript/" rel="bookmark" title="4.JavaScript">4.JavaScript</a></li><li><a href="/5xml-Tomcat/" rel="bookmark" title="5.xml&Tomcat">5.xml&Tomcat</a></li><li><a href="/6Servlet-HTTP/" rel="bookmark" title="6.Servlet&HTTP">6.Servlet&HTTP</a></li><li><a href="/7Cookie&Session/" rel="bookmark" title="7.Cookie&Session">7.Cookie&Session</a></li><li><a href="/8JSP-EL-JSTL/" rel="bookmark" title="8.JSP&EL&JSTL">8.JSP&EL&JSTL</a></li><li><a href="/9-JQuery/" rel="bookmark" title="9.JQuery">9.JQuery</a></li><li><a href="/10-Ajax-Json/" rel="bookmark" title="10.Ajax&Json">10.Ajax&Json</a></li><li><a href="/11-redis/" rel="bookmark" title="11.redis">11.redis</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="赖床鹏鹏" data-src="/images/avatar.jpg"><p class="name" itemprop="name">赖床鹏鹏</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">40</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">1</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="/links/" rel="section"><i class="ic i-magic"></i>链环</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/webs/" rel="section"><i class="ic i-star"></i>网址</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/%E6%88%AA%E5%9B%BE%E5%90%88%E9%9B%86/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2JDBC-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/JavaWeb/" title="分类于 JavaWeb">JavaWeb</a></div><span><a href="/1%E6%95%B0%E6%8D%AE%E5%BA%93/" title="1.数据库">1.数据库</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/3%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" title="3.基础语法">3.基础语法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaWeb/" title="分类于 JavaWeb">JavaWeb</a></div><span><a href="/3HTML-CSS/" title="3.HTML&amp;CSS">3.HTML&CSS</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaWeb/" title="分类于 JavaWeb">JavaWeb</a></div><span><a href="/2JDBC-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" title="2.JDBC&amp;数据库连接池">2.JDBC&数据库连接池</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/4-Linux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" title="4.Linux安装配置">4.Linux安装配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaWeb/" title="分类于 JavaWeb">JavaWeb</a></div><span><a href="/8JSP-EL-JSTL/" title="8.JSP&amp;EL&amp;JSTL">8.JSP&EL&JSTL</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/2%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" title="2.基础语法">2.基础语法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/9IO/" title="9.IO">9.IO</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JavaSE/" title="分类于 JavaSE">JavaSE</a></div><span><a href="/8%E9%9B%86%E5%90%88/" title="8.集合">8.集合</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/2-Linux%E5%AE%9E%E6%93%8D/" title="2.Linux实操">2.Linux实操</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">赖床鹏鹏 @ Yume Shoka</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">330k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">5:01</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"1数据库/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"赖床鹏鹏的blog！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->